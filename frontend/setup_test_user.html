<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        button { padding: 10px 20px; margin: 5px; cursor: pointer; background: #007bff; color: white; border: none; border-radius: 5px; }
        .success { color: green; font-weight: bold; }
        .info { color: blue; }
    </style>
</head>
<body>
    <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è Premium Dashboard</h1>
    
    <button onclick="setupTestUser()">–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
    <button onclick="clearUser()">–û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
    <button onclick="checkUser()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
    <button onclick="openDashboard()">–û—Ç–∫—Ä—ã—Ç—å Premium Dashboard</button>
    
    <div id="results"></div>

    <script>
        function log(message, className = 'info') {
            const div = document.createElement('div');
            div.className = className;
            div.innerHTML = `${new Date().toLocaleTimeString()}: ${message}`;
            document.getElementById('results').appendChild(div);
        }

        function setupTestUser() {
            const testUser = {
                id: 1,
                company_name: 'Test Company',
                email: 'test@company.com',
                contact_person: 'Test Admin',
                phone: '+7-123-456-7890'
            };
            
            localStorage.setItem('user', JSON.stringify(testUser));
            localStorage.setItem('user_type', 'company');
            localStorage.setItem('access_token', 'test-token-123');
            
            log('‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω', 'success');
            log(`–ö–æ–º–ø–∞–Ω–∏—è: ${testUser.company_name}`, 'info');
            log(`Email: ${testUser.email}`, 'info');
        }
        
        function clearUser() {
            localStorage.removeItem('user');
            localStorage.removeItem('user_type');
            localStorage.removeItem('access_token');
            log('üóëÔ∏è –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—á–∏—â–µ–Ω—ã', 'success');
        }
        
        function checkUser() {
            const user = localStorage.getItem('user');
            const userType = localStorage.getItem('user_type');
            const token = localStorage.getItem('access_token');
            
            if (user && userType) {
                log('üë§ –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', 'info');
                log(`–¢–∏–ø: ${userType}`, 'info');
                log(`–î–∞–Ω–Ω—ã–µ: ${user}`, 'info');
                log(`–¢–æ–∫–µ–Ω: ${token ? '—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω' : '–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'}`, 'info');
            } else {
                log('‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω', 'info');
            }
        }
        
        function openDashboard() {
            const user = localStorage.getItem('user');
            if (!user) {
                log('‚ö†Ô∏è –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!', 'info');
                return;
            }
            
            window.open('http://localhost:8080/premium_dashboard.html', '_blank');
            log('üöÄ –û—Ç–∫—Ä—ã–≤–∞—é Premium Dashboard...', 'success');
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', checkUser);
    </script>
</body>
</html>